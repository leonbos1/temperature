(function(){"use strict";var t={8766:function(t,e,a){var n=a(9242),o=a(3396);const s={class:"container"},r=(0,o._)("li",null,[(0,o._)("a",{class:"active",href:"/"},"Home")],-1),i={key:0},l=(0,o._)("a",{href:"/manage"},"Manage",-1),h=[l],d=(0,o._)("li",null,[(0,o._)("a",{href:"/extra"},"Extra")],-1),c={key:1},p=(0,o._)("a",{href:"/login"},"Login",-1),g=[p],u=(0,o._)("a",null,"Logout",-1),m=[u],f={class:"content"};function v(t,e,a,n,l,p){const u=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("ul",null,[r,t.loggedIn?((0,o.wg)(),(0,o.iD)("li",i,h)):(0,o.kq)("",!0),d,t.loggedIn?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("li",c,g)),t.loggedIn?((0,o.wg)(),(0,o.iD)("li",{key:2,onClick:e[0]||(e[0]=(...t)=>p.logout&&p.logout(...t))},m)):(0,o.kq)("",!0)]),(0,o._)("div",f,[(0,o.Wm)(u)])])}var D={name:"App",data:function(){return{loggedIn:!1}},mounted(){this.checkLogin()},methods:{checkLogin(){"ABHJ"==localStorage.getItem("token")?this.loggedIn=!0:this.loggedIn=!1},logout(){localStorage.removeItem("token"),this.loggedIn=!1}}},y=a(89);const _=(0,y.Z)(D,[["render",v]]);var w=_,b=a(2483),k=a(7139);const P=t=>((0,o.dD)("data-v-30841652"),t=t(),(0,o.Cn)(),t),T={class:"table-container"},E={class:"page"},x=P((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{scope:"col"},"ID"),(0,o._)("th",{scope:"col"},"Temp"),(0,o._)("th",{scope:"col"},"Date"),(0,o._)("th",{scope:"col"},"Time"),(0,o._)("th",{scope:"col"})])],-1))),C=["onUpdate:modelValue"],I=["onClick"],G=["onClick"];function O(t,e,a,s,r,i){return(0,o.wg)(),(0,o.iD)("div",T,[(0,o._)("div",E,[(0,o._)("button",{onClick:e[0]||(e[0]=(...t)=>i.firstPage&&i.firstPage(...t))},"First"),(0,o._)("button",{onClick:e[1]||(e[1]=(...t)=>i.prevPage&&i.prevPage(...t))},"Previous"),(0,o._)("p",null,(0,k.zw)(t.page),1),(0,o._)("button",{onClick:e[2]||(e[2]=(...t)=>i.nextPage&&i.nextPage(...t))},"Next"),(0,o._)("button",{onClick:e[3]||(e[3]=(...t)=>i.lastPage&&i.lastPage(...t))},"Last")]),(0,o._)("table",null,[x,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.data,(t=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[(0,o._)("td",null,(0,k.zw)(t.id),1),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e=>t.temp=e},null,8,C),[[n.nr,t.temp]]),(0,o._)("td",null,(0,k.zw)(t.date),1),(0,o._)("td",null,(0,k.zw)(t.time),1),(0,o._)("button",{onClick:e=>i.editRecord(t.id,t.temp),class:"edit"},"Edit",8,I),(0,o._)("button",{onClick:e=>i.deleteRecord(t.id),class:"delete"},"Delete",8,G)])))),128))])])])}var A={name:"ManagePage",mounted(){this.getData()},data:function(){return{allData:[],data:[],page:1,perPage:50}},methods:{getData(){fetch("http://ronleon.nl:5000/weekly",{method:"GET",headers:{token:"ABHJ"}}).then((t=>t.json())).then((t=>this.showData(t))).then((()=>this.selectedData(this.page*this.perPage-this.perPage,this.page*this.perPage)))},showData(t){this.allData=[],t.forEach((t=>{let e={};e.id=t[0],e.temp=t[1],e.date=t[2],e.time=t[3],this.allData.push(e)}))},selectedData(t,e){this.data=this.allData.slice(t,e)},nextPage(){this.page<this.allData.length/this.perPage&&(this.page++,this.selectedData(this.page*this.perPage-this.perPage,this.page*this.perPage))},prevPage(){this.page>1&&(this.page--,this.selectedData(this.page*this.perPage,this.page*this.perPage+this.perPage))},firstPage(){this.page=1,this.selectedData(this.page*this.perPage-this.perPage,this.page*this.perPage)},lastPage(){this.page=Math.ceil(this.allData.length/this.perPage),this.selectedData(this.page*this.perPage-this.perPage,this.page*this.perPage)},deleteRecord(t){fetch("http://ronleon.nl:5000/",{method:"DELETE",headers:{token:localStorage.getItem("token")},body:JSON.stringify({id:t})}).then((()=>this.getData()))},editRecord(t,e){fetch("http://ronleon.nl:5000/",{method:"PUT",headers:{token:localStorage.getItem("token")},body:JSON.stringify({id:t,degrees:e+""})}).then((()=>this.getData()))}}};const H=(0,y.Z)(A,[["render",O],["__scopeId","data-v-30841652"]]);var z=H;function S(t,e,a,n,s,r){const i=(0,o.up)("Visitors"),l=(0,o.up)("CurrentTemp"),h=(0,o.up)("DailyGraph"),d=(0,o.up)("WeeklyGraph");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(i,{class:"visitors"}),(0,o.Wm)(l),(0,o.Wm)(h),(0,o.Wm)(d)])}const j={class:"hello"};function L(t,e,a,n,s,r){return(0,o.wg)(),(0,o.iD)("div",j,[(0,o._)("p",null,"Huidige temperatuur: "+(0,k.zw)(t.currentTemp)+" graden",1),(0,o._)("p",null,"Gemiddelde temperatuur vandaag: "+(0,k.zw)(t.avgToday)+" graden",1),(0,o._)("p",null,"Gemiddelde temperatuur gisteren: "+(0,k.zw)(t.avgyesterday)+" graden",1)])}var M={name:"CurrentTemp",data:function(){return{currentTemp:0,avgToday:0,avgyesterday:0,data:[]}},methods:{getTemp(){fetch("http://ronleon.nl:5000/current_temp",{method:"GET",headers:{token:"ABHJ"}}).then((t=>t.text())).then((t=>this.currentTemp=t))},getData(){fetch("http://ronleon.nl:5000/weekly",{method:"GET",headers:{token:"ABHJ"}}).then((t=>t.json())).then((t=>this.data=t)).then((()=>this.updateAvgTemp()))},updateAvgTemp(){var t=new Date;let e=t.getDate(),a=t.getMonth()+1;a<10&&(a="0"+a),e<10&&(e="0"+e);let n=t.getFullYear(),o=`${n}-${a}-${e}`;Date.prototype.addDays=function(t){var e=new Date(this.valueOf());return e.setDate(e.getDate()-t),e},t=new Date,t=t.addDays(1),e=t.getDate(),a=t.getMonth()+1,a<10&&(a="0"+a),n=t.getFullYear();let s=`${n}-${a}-${e}`;var r=0,i=0,l=0,h=0;this.data.forEach((t=>{t[2]===o&&(r++,i+=t[1]),t[2]===s&&(l++,h+=t[1])})),this.avgToday=(i/r).toFixed(2),this.avgyesterday=(h/l).toFixed(2)}},beforeMount(){this.getTemp(),this.getData()}};const Z=(0,y.Z)(M,[["render",L],["__scopeId","data-v-358a9314"]]);var J=Z;const B=t=>((0,o.dD)("data-v-456f9d0c"),t=t(),(0,o.Cn)(),t),$={class:"graph-container"},F=B((()=>(0,o._)("canvas",{id:"weekly-graph"},null,-1))),W=[F];function V(t,e,a,n,s,r){return(0,o.wg)(),(0,o.iD)("div",$,W)}var R=a(4851),Y={name:"WeeklyGraph",data:function(){return{data:[]}},props:{msg:String},mounted(){this.getData()},methods:{getData(){fetch("http://ronleon.nl:5000/weekly",{method:"GET",headers:{token:"ABHJ"}}).then((t=>t.json())).then((t=>this.data=t)).then((()=>this.setTemps())).then((()=>this.setLabels())).then((()=>this.createGraph()))},setTemps(){let t=[],e=0,a=0;this.data.forEach((n=>{e++,a+=n[1],e>30&&(t.push(a/e),e=0,a=0)})),this.temps=t},setLabels(){let t=[],e=0;this.data.forEach((a=>{if(e++,e>30){let n=a[2]+" "+a[3];t.push(n),e=0}})),this.labels=t},createGraph(){const t=document.getElementById("weekly-graph"),e=this.labels;new R.Z(t,{type:"line",data:{labels:e,datasets:[{label:"Temperature",data:this.temps,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]},options:{plugins:{title:{display:!0,text:"Temperatuur deze week",font:{size:32}}},responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!1}}}})}}};const N=(0,y.Z)(Y,[["render",V],["__scopeId","data-v-456f9d0c"]]);var U=N;const q=t=>((0,o.dD)("data-v-66d0606c"),t=t(),(0,o.Cn)(),t),K={class:"graph-container"},Q=q((()=>(0,o._)("canvas",{id:"daily-graph"},null,-1))),X=[Q];function tt(t,e,a,n,s,r){return(0,o.wg)(),(0,o.iD)("div",K,X)}var et={name:"DailyGraph",data:function(){return{data:[],dailyData:[],temps:[]}},props:{msg:String},mounted(){this.getData()},methods:{getData(){fetch("http://ronleon.nl:5000/weekly",{method:"GET",headers:{token:"ABHJ"}}).then((t=>t.json())).then((t=>this.data=t)).then((()=>this.setDailyData())).then((()=>this.setTemps())).then((()=>this.setLabels())).then((()=>this.createGraph()))},setTemps(){let t=[],e=0,a=0;this.dailyData.forEach((n=>{e++,a+=n[1],e>10&&(t.push(a/e),e=0,a=0)})),this.temps=t},setDailyData(){this.data.forEach((t=>{let e=new Date,a=e.getDate(),n=e.getMonth()+1;n<10&&(n="0"+n),a<10&&(a="0"+a);let o=e.getFullYear(),s=`${o}-${n}-${a}`;s===t[2]&&this.dailyData.push(t)}))},setLabels(){let t=[],e=0;this.dailyData.forEach((a=>{if(e++,e>10){let n=a[3];t.push(n),e=0}})),this.labels=t},createGraph(){const t=document.getElementById("daily-graph"),e=this.labels;new R.Z(t,{type:"line",data:{labels:e,datasets:[{label:"Temperature",data:this.temps,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]},options:{plugins:{title:{display:!0,text:"Temperatuur vandaag",font:{size:32}}},responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!1}}}})}}};const at=(0,y.Z)(et,[["render",tt],["__scopeId","data-v-66d0606c"]]);var nt=at;const ot={class:"container"};function st(t,e,a,n,s,r){return(0,o.wg)(),(0,o.iD)("div",ot,[(0,o._)("h1",null,"This website has "+(0,k.zw)(t.visitors)+" clicks",1)])}var rt={name:"ExtraPage",components:{},data:function(){return{visitors:0}},methods:{increaseVisitors(){fetch("http://ronleon.nl:5000/visitors",{method:"POST"}).then((t=>t.json())).then((t=>this.visitors=t))}},mounted(){this.increaseVisitors()}};const it=(0,y.Z)(rt,[["render",st]]);var lt=it,ht={name:"HomePage",components:{CurrentTemp:J,DailyGraph:nt,WeeklyGraph:U,Visitors:lt}};const dt=(0,y.Z)(ht,[["render",S]]);var ct=dt;const pt=t=>((0,o.dD)("data-v-61b5a212"),t=t(),(0,o.Cn)(),t),gt={class:"container"},ut={class:"login"},mt=pt((()=>(0,o._)("button",{type:"submit"},"Submit",-1)));function ft(t,e,a,s,r,i){return(0,o.wg)(),(0,o.iD)("div",gt,[(0,o._)("div",ut,[(0,o._)("form",{onSubmit:e[1]||(e[1]=(...t)=>i.loginMethod&&i.loginMethod(...t))},[(0,o.wy)((0,o._)("input",{type:"password","onUpdate:modelValue":e[0]||(e[0]=e=>t.login=e),placeholder:"Password"},null,512),[[n.nr,t.login]]),mt],32)])])}var vt={name:"LoginPage",data:function(){return{login:""}},components:{},methods:{loginMethod(t){t.preventDefault(),fetch("http://ronleon.nl:5000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:this.login})}).then((t=>t.json())).then((t=>{console.log(t),"ABHJ"==t&&(localStorage.setItem("token",t),this.$router.push("/manage"))}))}}};const Dt=(0,y.Z)(vt,[["render",ft],["__scopeId","data-v-61b5a212"]]);var yt=Dt;const _t=t=>((0,o.dD)("data-v-6b55ef5c"),t=t(),(0,o.Cn)(),t),wt={class:"table-container"},bt=_t((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{scope:"col"},"Datum"),(0,o._)("th",{scope:"col"},"Gemiddelde"),(0,o._)("th",{scope:"col"},"Laagste"),(0,o._)("th",{scope:"col"},"Hoogste")])],-1)));function kt(t,e,a,n,s,r){return(0,o.wg)(),(0,o.iD)("div",wt,[(0,o._)("table",null,[bt,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.formattedData,(t=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[(0,o._)("td",null,(0,k.zw)(t.date),1),(0,o._)("td",null,(0,k.zw)(t.avgTemp),1),(0,o._)("td",null,(0,k.zw)(t.lowest),1),(0,o._)("td",null,(0,k.zw)(t.highest),1)])))),128))])])])}var Pt={name:"ExtraPage",components:{},data:function(){return{data:[],formattedData:[]}},methods:{getData(){fetch("http://ronleon.nl:5000/weekly",{method:"GET",headers:{token:"ABHJ"}}).then((t=>t.json())).then((t=>this.data=t)).then((()=>this.formatData()))},formatData(){let t=0,e="",a=0,n=-999,o=999;this.data.forEach((s=>{if(""===e)e=s[2];else if(e===s[2])t+=s[1],a++,o>s[1]&&(o=s[1]),n<s[1]&&(n=s[1]);else{let r={};r.avgTemp=(t/a).toFixed(2),r.date=e,r.lowest=o,r.highest=n,this.formattedData.push(r),e=s[2],t=s[1],a=1,o=999,n=-999}}));let s={};s.avgTemp=(t/a).toFixed(2),s.date=e,s.lowest=o,s.highest=n,this.formattedData.push(s)}},beforeMount(){this.getData()}};const Tt=(0,y.Z)(Pt,[["render",kt],["__scopeId","data-v-6b55ef5c"]]);var Et=Tt;const xt=[{path:"/",name:"Home",component:ct},{path:"/extra",name:"Extra",component:Et},{path:"/manage",name:"Manage",component:z,beforeEnter:(t,e,a)=>{"ABHJ"===localStorage.getItem("token")?a():a("/login")}},{path:"/login",name:"Login",component:yt}],Ct=(0,b.p7)({history:(0,b.PO)("/"),routes:xt});var It=Ct;(0,n.ri)(w).use(It).mount("#app")}},e={};function a(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,a),s.exports}a.m=t,function(){var t=[];a.O=function(e,n,o,s){if(!n){var r=1/0;for(d=0;d<t.length;d++){n=t[d][0],o=t[d][1],s=t[d][2];for(var i=!0,l=0;l<n.length;l++)(!1&s||r>=s)&&Object.keys(a.O).every((function(t){return a.O[t](n[l])}))?n.splice(l--,1):(i=!1,s<r&&(r=s));if(i){t.splice(d--,1);var h=o();void 0!==h&&(e=h)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[n,o,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,s,r=n[0],i=n[1],l=n[2],h=0;if(r.some((function(e){return 0!==t[e]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(l)var d=l(a)}for(e&&e(n);h<r.length;h++)s=r[h],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(d)},n=self["webpackChunktemperature"]=self["webpackChunktemperature"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(8766)}));n=a.O(n)})();
//# sourceMappingURL=app.ba283706.js.map